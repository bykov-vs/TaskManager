<div *ngIf="isAuthenticated" class="grid grid-cols-4 mt-4 gap-3.5 mx-10">

  <div class="col-span-1 border-2 border-blue-400 border-l-gray-300 border-r-gray-300">
    <p class="text-2xl">Проекты:</p>
    <ul>
      <li class="w-full bg-gray-300 hover:bg-blue-100 cursor-pointer" *ngFor="let project of projects">
        <a (click)="chooseProject(project)">{{project.name}}</a>
      </li>
    </ul>
    <button class="mt-4 w-full text-amber-50 bg-blue-900 hover:bg-emerald-500 hover:text-black cursor-cell"
            (click)="createProject()">Создать</button>
  </div>

  <div *ngIf="currentProject !== undefined" class="col-span-2">
    <p class="text-2xl">Задачи</p>
    <button class="mt-4 text-amber-50 bg-blue-900 hover:bg-emerald-500 hover:text-black w-full"
            (click)="createTask()">Добавить задачу</button>
    <div class="grid grid-cols-3 gap-2">
      <div
        cdkDropList
        [cdkDropListData]="todoTasks"
        #todoList="cdkDropList"
        [cdkDropListConnectedTo]="[doneList, inProgressList]"
        (cdkDropListDropped)="drop($event)"
        class="col-span-1 border-l">
        <p class="text-xl">Сделать</p>
        <ul class="">
          <li class="w-full mt-2 bg-gray-200 border-t-gray-800 border-b-gray-800 border-double cursor-move"
              *ngFor="let task of todoTasks" cdkDrag>
             {{task.name}}
            <button class="object-right text-right ml-1 border" (click)="showTask(task)">?</button>
          </li>
        </ul>
      </div>
      <div
        cdkDropList
        #inProgressList="cdkDropList"
        [cdkDropListData]="inProgressTasks"
        [cdkDropListConnectedTo]="[todoList, doneList]"
        (cdkDropListDropped)="drop($event)"
        class="col-span-1 border-r border-l">
        <p class="text-xl">В работе</p>
        <ul class="">
          <li class="w-full mt-2 bg-gray-200 border-t-gray-800 border-b-gray-800 border-double cursor-move"
              *ngFor="let task of inProgressTasks" cdkDrag>
            {{task.name}}
            <button class="object-right text-right ml-1 border" (click)="showTask(task)">?</button>
          </li>
        </ul>
      </div>
      <div
        cdkDropList
        #doneList="cdkDropList"
        [cdkDropListData]="doneTasks"
        [cdkDropListConnectedTo]="[todoList, inProgressList]"
        (cdkDropListDropped)="drop($event)"
        class="col-span-1 border-r">
        <p class="text-xl">Выполненные</p>
        <ul class="">
          <li class="w-full mt-2 bg-gray-200 border-t-gray-800 border-b-gray-800 border-double cursor-move"
              *ngFor="let task of doneTasks" cdkDrag>
            {{task.name}}
            <button class="object-right text-right ml-1 border" (click)="showTask(task)">?</button>
          </li>
        </ul>
      </div>
    </div>

  </div>
  <div *ngIf="currentProject !== undefined" class="col-span-1">Описание
    <p>{{currentProject.description}}</p>
  </div>
</div>
<div *ngIf="!isAuthenticated">
  <p>Пожалуйста, <a class="underline decoration-solid" (click)="goToLogin()">войдите
    </a> или <a class="underline decoration-solid" (click)="goToRegistration()" >зарегистрируйтесь</a></p>
</div>
