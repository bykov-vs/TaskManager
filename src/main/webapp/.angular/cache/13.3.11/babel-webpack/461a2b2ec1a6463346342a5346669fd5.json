{"ast":null,"code":"import _asyncToGenerator from \"D:\\\\Projects\\\\\\u0443\\u0447\\u0451\\u0431\\u0430\\\\\\u0441\\u0435\\u043C\\u0435\\u0441\\u0442\\u0440_8\\\\\\u043D\\u0438\\u0440\\\\TaskManager\\\\src\\\\main\\\\webapp\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component, Input } from '@angular/core';\nimport { AddProjectComponent } from \"./add-project/add-project.component\";\nimport { AddTaskComponent } from \"./add-task/add-task.component\";\nimport { moveItemInArray, transferArrayItem } from '@angular/cdk/drag-drop';\nlet ContentComponent = class ContentComponent {\n  constructor(dialog, router) {\n    this.dialog = dialog;\n    this.router = router;\n    this.projects = [];\n    this.tasks = [];\n    this.todoTasks = [];\n    this.inProgressTasks = [];\n    this.doneTasks = [];\n    this.userId = -1;\n    this.isAuthenticated = false;\n  }\n\n  ngOnInit() {\n    if (this.userId != -1) {\n      this.isAuthenticated = true;\n    }\n  }\n\n  chooseProject(project) {\n    this.currentProject = project;\n    console.log(project);\n    console.log(this.currentProject);\n    this.parseTasks();\n  }\n\n  parseTasks() {\n    this.todoTasks = [];\n    this.inProgressTasks = [];\n    this.doneTasks = [];\n\n    if (this.currentProject === undefined) {\n      return;\n    }\n\n    for (let task of this.currentProject.tasks) {\n      if (task.status === \"todo\") {\n        this.todoTasks.push(task);\n      } else if (task.status === \"inProgress\") {\n        this.inProgressTasks.push(task);\n      } else {\n        this.doneTasks.push(task);\n      }\n    }\n  }\n\n  createProject() {\n    var _this = this;\n\n    const dialogRef = this.dialog.open(AddProjectComponent, {\n      data: null\n    });\n    dialogRef.afterClosed().subscribe( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(function* (project) {\n        if (project) {\n          _this.projects.push(project);\n        }\n\n        console.log(_this.projects);\n      });\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n  }\n\n  createTask() {\n    var _this2 = this;\n\n    const dialogRef = this.dialog.open(AddTaskComponent, {\n      data: null\n    });\n    dialogRef.afterClosed().subscribe( /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator(function* (task) {\n        var _a;\n\n        if (task) {\n          (_a = _this2.currentProject) === null || _a === void 0 ? void 0 : _a.tasks.push(task);\n\n          _this2.parseTasks();\n        }\n      });\n\n      return function (_x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n  }\n\n  drop(event) {\n    if (event.previousContainer === event.container) {\n      moveItemInArray(event.container.data, event.previousIndex, event.currentIndex);\n    } else {\n      transferArrayItem(event.previousContainer.data, event.container.data, event.previousIndex, event.currentIndex);\n    }\n  }\n\n  goToRegistration() {\n    this.router.navigate('registation');\n  }\n\n};\n\n__decorate([Input()], ContentComponent.prototype, \"userId\", void 0);\n\nContentComponent = __decorate([Component({\n  selector: 'app-content',\n  templateUrl: './content.component.html',\n  styleUrls: ['./content.component.css']\n})], ContentComponent);\nexport { ContentComponent };","map":{"version":3,"sources":["D:/Projects/учёба/семестр_8/нир/TaskManager/src/main/webapp/src/app/components/content/content.component.ts"],"names":["__decorate","Component","Input","AddProjectComponent","AddTaskComponent","moveItemInArray","transferArrayItem","ContentComponent","constructor","dialog","router","projects","tasks","todoTasks","inProgressTasks","doneTasks","userId","isAuthenticated","ngOnInit","chooseProject","project","currentProject","console","log","parseTasks","undefined","task","status","push","createProject","dialogRef","open","data","afterClosed","subscribe","createTask","_a","drop","event","previousContainer","container","previousIndex","currentIndex","goToRegistration","navigate","prototype","selector","templateUrl","styleUrls"],"mappings":"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","sourcesContent":["import { __decorate } from \"tslib\";\r\nimport { Component, Input } from '@angular/core';\r\nimport { AddProjectComponent } from \"./add-project/add-project.component\";\r\nimport { AddTaskComponent } from \"./add-task/add-task.component\";\r\nimport { moveItemInArray, transferArrayItem } from '@angular/cdk/drag-drop';\r\nlet ContentComponent = class ContentComponent {\r\n    constructor(dialog, router) {\r\n        this.dialog = dialog;\r\n        this.router = router;\r\n        this.projects = [];\r\n        this.tasks = [];\r\n        this.todoTasks = [];\r\n        this.inProgressTasks = [];\r\n        this.doneTasks = [];\r\n        this.userId = -1;\r\n        this.isAuthenticated = false;\r\n    }\r\n    ngOnInit() {\r\n        if (this.userId != -1) {\r\n            this.isAuthenticated = true;\r\n        }\r\n    }\r\n    chooseProject(project) {\r\n        this.currentProject = project;\r\n        console.log(project);\r\n        console.log(this.currentProject);\r\n        this.parseTasks();\r\n    }\r\n    parseTasks() {\r\n        this.todoTasks = [];\r\n        this.inProgressTasks = [];\r\n        this.doneTasks = [];\r\n        if (this.currentProject === undefined) {\r\n            return;\r\n        }\r\n        for (let task of this.currentProject.tasks) {\r\n            if (task.status === \"todo\") {\r\n                this.todoTasks.push(task);\r\n            }\r\n            else if (task.status === \"inProgress\") {\r\n                this.inProgressTasks.push(task);\r\n            }\r\n            else {\r\n                this.doneTasks.push(task);\r\n            }\r\n        }\r\n    }\r\n    createProject() {\r\n        const dialogRef = this.dialog.open(AddProjectComponent, {\r\n            data: null,\r\n        });\r\n        dialogRef.afterClosed().subscribe(async (project) => {\r\n            if (project) {\r\n                this.projects.push(project);\r\n            }\r\n            console.log(this.projects);\r\n        });\r\n    }\r\n    createTask() {\r\n        const dialogRef = this.dialog.open(AddTaskComponent, {\r\n            data: null,\r\n        });\r\n        dialogRef.afterClosed().subscribe(async (task) => {\r\n            var _a;\r\n            if (task) {\r\n                (_a = this.currentProject) === null || _a === void 0 ? void 0 : _a.tasks.push(task);\r\n                this.parseTasks();\r\n            }\r\n        });\r\n    }\r\n    drop(event) {\r\n        if (event.previousContainer === event.container) {\r\n            moveItemInArray(event.container.data, event.previousIndex, event.currentIndex);\r\n        }\r\n        else {\r\n            transferArrayItem(event.previousContainer.data, event.container.data, event.previousIndex, event.currentIndex);\r\n        }\r\n    }\r\n    goToRegistration() {\r\n        this.router.navigate('registation');\r\n    }\r\n};\r\n__decorate([\r\n    Input()\r\n], ContentComponent.prototype, \"userId\", void 0);\r\nContentComponent = __decorate([\r\n    Component({\r\n        selector: 'app-content',\r\n        templateUrl: './content.component.html',\r\n        styleUrls: ['./content.component.css']\r\n    })\r\n], ContentComponent);\r\nexport { ContentComponent };\r\n"]},"metadata":{},"sourceType":"module"}