{"ast":null,"code":"import _asyncToGenerator from \"D:\\\\Projects\\\\\\u0443\\u0447\\u0451\\u0431\\u0430\\\\\\u0441\\u0435\\u043C\\u0435\\u0441\\u0442\\u0440_8\\\\\\u043D\\u0438\\u0440\\\\TaskManager\\\\src\\\\main\\\\webapp\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { AddProjectComponent } from \"./add-project/add-project.component\";\nimport { AddTaskComponent } from \"./add-task/add-task.component\";\nimport { moveItemInArray, transferArrayItem } from '@angular/cdk/drag-drop';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../../services/auth-service.service\";\nimport * as i4 from \"../../services/HttpService\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/cdk/drag-drop\";\n\nfunction ContentComponent_div_0_li_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"li\")(1, \"a\", 6);\n    i0.ɵɵlistener(\"click\", function ContentComponent_div_0_li_5_Template_a_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const project_r5 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext(2);\n      return ctx_r6.chooseProject(project_r5);\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const project_r5 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(project_r5.name);\n  }\n}\n\nfunction ContentComponent_div_0_div_8_li_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 17);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const task_r14 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", task_r14.name, \" \");\n  }\n}\n\nfunction ContentComponent_div_0_div_8_li_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 17);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const task_r15 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", task_r15.name, \" \");\n  }\n}\n\nfunction ContentComponent_div_0_div_8_li_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 17);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const task_r16 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", task_r16.name, \" \");\n  }\n}\n\nconst _c0 = function (a0, a1) {\n  return [a0, a1];\n};\n\nfunction ContentComponent_div_0_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 9)(1, \"p\", 4);\n    i0.ɵɵtext(2, \"\\u0417\\u0430\\u0434\\u0430\\u0447\\u0438\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function ContentComponent_div_0_div_8_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r17 = i0.ɵɵnextContext(2);\n      return ctx_r17.createTask();\n    });\n    i0.ɵɵtext(4, \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0437\\u0430\\u0434\\u0430\\u0447\\u0443\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 10)(6, \"div\", 11, 12);\n    i0.ɵɵlistener(\"cdkDropListDropped\", function ContentComponent_div_0_div_8_Template_div_cdkDropListDropped_6_listener($event) {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r19 = i0.ɵɵnextContext(2);\n      return ctx_r19.drop($event);\n    });\n    i0.ɵɵelementStart(8, \"p\", 13);\n    i0.ɵɵtext(9, \"\\u0421\\u0434\\u0435\\u043B\\u0430\\u0442\\u044C\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"ul\");\n    i0.ɵɵtemplate(11, ContentComponent_div_0_div_8_li_11_Template, 2, 1, \"li\", 14);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\", 11, 15);\n    i0.ɵɵlistener(\"cdkDropListDropped\", function ContentComponent_div_0_div_8_Template_div_cdkDropListDropped_12_listener($event) {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r20 = i0.ɵɵnextContext(2);\n      return ctx_r20.drop($event);\n    });\n    i0.ɵɵelementStart(14, \"p\", 13);\n    i0.ɵɵtext(15, \"\\u0412 \\u0440\\u0430\\u0431\\u043E\\u0442\\u0435\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"ul\");\n    i0.ɵɵtemplate(17, ContentComponent_div_0_div_8_li_17_Template, 2, 1, \"li\", 14);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(18, \"div\", 11, 16);\n    i0.ɵɵlistener(\"cdkDropListDropped\", function ContentComponent_div_0_div_8_Template_div_cdkDropListDropped_18_listener($event) {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r21 = i0.ɵɵnextContext(2);\n      return ctx_r21.drop($event);\n    });\n    i0.ɵɵelementStart(20, \"p\", 13);\n    i0.ɵɵtext(21, \"\\u0412\\u044B\\u043F\\u043E\\u043B\\u043D\\u0435\\u043D\\u043D\\u044B\\u0435\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"ul\");\n    i0.ɵɵtemplate(23, ContentComponent_div_0_div_8_li_23_Template, 2, 1, \"li\", 14);\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const _r8 = i0.ɵɵreference(7);\n\n    const _r10 = i0.ɵɵreference(13);\n\n    const _r12 = i0.ɵɵreference(19);\n\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"cdkDropListData\", ctx_r3.todoTasks)(\"cdkDropListConnectedTo\", i0.ɵɵpureFunction2(9, _c0, _r12, _r10));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.todoTasks);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"cdkDropListData\", ctx_r3.inProgressTasks)(\"cdkDropListConnectedTo\", i0.ɵɵpureFunction2(12, _c0, _r8, _r12));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.inProgressTasks);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"cdkDropListData\", ctx_r3.doneTasks)(\"cdkDropListConnectedTo\", i0.ɵɵpureFunction2(15, _c0, _r8, _r10));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.doneTasks);\n  }\n}\n\nfunction ContentComponent_div_0_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18);\n    i0.ɵɵtext(1, \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ContentComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"div\", 3)(2, \"p\", 4);\n    i0.ɵɵtext(3, \"\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"ul\");\n    i0.ɵɵtemplate(5, ContentComponent_div_0_li_5_Template, 3, 1, \"li\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function ContentComponent_div_0_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r23);\n      const ctx_r22 = i0.ɵɵnextContext();\n      return ctx_r22.createProject();\n    });\n    i0.ɵɵtext(7, \"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(8, ContentComponent_div_0_div_8_Template, 24, 18, \"div\", 7);\n    i0.ɵɵtemplate(9, ContentComponent_div_0_div_9_Template, 2, 0, \"div\", 8);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.projects);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.currentProject !== undefined);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.currentProject !== undefined);\n  }\n}\n\nfunction ContentComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"p\");\n    i0.ɵɵtext(2, \"\\u041F\\u043E\\u0436\\u0430\\u043B\\u0443\\u0439\\u0441\\u0442\\u0430, \");\n    i0.ɵɵelementStart(3, \"a\", 19);\n    i0.ɵɵlistener(\"click\", function ContentComponent_div_1_Template_a_click_3_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r24 = i0.ɵɵnextContext();\n      return ctx_r24.goToLogin();\n    });\n    i0.ɵɵtext(4, \"\\u0432\\u043E\\u0439\\u0434\\u0438\\u0442\\u0435 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \" \\u0438\\u043B\\u0438 \");\n    i0.ɵɵelementStart(6, \"a\", 19);\n    i0.ɵɵlistener(\"click\", function ContentComponent_div_1_Template_a_click_6_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r26 = i0.ɵɵnextContext();\n      return ctx_r26.goToRegistration();\n    });\n    i0.ɵɵtext(7, \"\\u0437\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u0443\\u0439\\u0442\\u0435\\u0441\\u044C\");\n    i0.ɵɵelementEnd()()();\n  }\n}\n\nexport class ContentComponent {\n  constructor(dialog, router, authService, httpService) {\n    this.dialog = dialog;\n    this.router = router;\n    this.authService = authService;\n    this.httpService = httpService;\n    this.projects = [];\n    this.tasks = [];\n    this.todoTasks = [];\n    this.inProgressTasks = [];\n    this.doneTasks = [];\n    this.isAuthenticated = false;\n    this.authService.user.subscribe(user => {\n      this.user = user;\n      console.log(this.user);\n\n      if (this.user !== undefined) {\n        this.isAuthenticated = true;\n        this.projects = this.user.projects;\n      }\n    });\n  }\n\n  chooseProject(project) {\n    this.currentProject = project;\n    this.parseTasks();\n  }\n\n  parseTasks() {\n    this.todoTasks = [];\n    this.inProgressTasks = [];\n    this.doneTasks = [];\n\n    if (this.currentProject === undefined) {\n      return;\n    }\n\n    for (let task of this.currentProject.tasks) {\n      if (task.status === \"todo\") {\n        this.todoTasks.push(task);\n      } else if (task.status === \"inProgress\") {\n        this.inProgressTasks.push(task);\n      } else {\n        this.doneTasks.push(task);\n      }\n    }\n  }\n\n  createProject() {\n    var _this = this;\n\n    const dialogRef = this.dialog.open(AddProjectComponent, {\n      data: null\n    });\n    dialogRef.afterClosed().subscribe( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(function* (project) {\n        var _a;\n\n        if (project) {\n          project.userId = (_a = _this.user) === null || _a === void 0 ? void 0 : _a.id;\n\n          _this.projects.push(project);\n\n          console.log(project);\n\n          _this.httpService.saveProject(project).subscribe();\n        }\n      });\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n  }\n\n  createTask() {\n    var _this2 = this;\n\n    const dialogRef = this.dialog.open(AddTaskComponent, {\n      data: null\n    });\n    dialogRef.afterClosed().subscribe( /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator(function* (task) {\n        var _a;\n\n        if (task) {\n          (_a = _this2.currentProject) === null || _a === void 0 ? void 0 : _a.tasks.push(task);\n\n          _this2.parseTasks();\n        }\n      });\n\n      return function (_x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n  }\n\n  drop(event) {\n    if (event.previousContainer === event.container) {\n      moveItemInArray(event.container.data, event.previousIndex, event.currentIndex);\n    } else {\n      transferArrayItem(event.previousContainer.data, event.container.data, event.previousIndex, event.currentIndex);\n    }\n  }\n\n  goToRegistration() {\n    this.router.navigate(['/registration']);\n  }\n\n  goToLogin() {\n    this.router.navigate(['/login']);\n  }\n\n}\n\nContentComponent.ɵfac = function ContentComponent_Factory(t) {\n  return new (t || ContentComponent)(i0.ɵɵdirectiveInject(i1.MatDialog), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.AuthServiceService), i0.ɵɵdirectiveInject(i4.HttpService));\n};\n\nContentComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ContentComponent,\n  selectors: [[\"app-content\"]],\n  decls: 2,\n  vars: 2,\n  consts: [[\"class\", \"grid grid-cols-4 mt-4 gap-3.5 mx-10\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"grid\", \"grid-cols-4\", \"mt-4\", \"gap-3.5\", \"mx-10\"], [1, \"col-span-1\", \"border-2\", \"border-blue-400\", \"border-l-gray-300\", \"border-r-gray-300\"], [1, \"text-2xl\"], [4, \"ngFor\", \"ngForOf\"], [3, \"click\"], [\"class\", \"col-span-2\", 4, \"ngIf\"], [\"class\", \"col-span-1\", 4, \"ngIf\"], [1, \"col-span-2\"], [1, \"grid\", \"grid-cols-3\", \"gap-2\"], [\"cdkDropList\", \"\", 1, \"col-span-1\", 3, \"cdkDropListData\", \"cdkDropListConnectedTo\", \"cdkDropListDropped\"], [\"todoList\", \"cdkDropList\"], [1, \"text-xl\"], [\"cdkDrag\", \"\", 4, \"ngFor\", \"ngForOf\"], [\"inProgressList\", \"cdkDropList\"], [\"doneList\", \"cdkDropList\"], [\"cdkDrag\", \"\"], [1, \"col-span-1\"], [1, \"underline\", \"decoration-solid\", 3, \"click\"]],\n  template: function ContentComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, ContentComponent_div_0_Template, 10, 3, \"div\", 0);\n      i0.ɵɵtemplate(1, ContentComponent_div_1_Template, 8, 0, \"div\", 1);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.isAuthenticated);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.isAuthenticated);\n    }\n  },\n  directives: [i5.NgIf, i5.NgForOf, i6.CdkDropList, i6.CdkDrag],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjb250ZW50LmNvbXBvbmVudC5jc3MifQ== */\"]\n});","map":{"version":3,"sources":["D:/Projects/учёба/семестр_8/нир/TaskManager/src/main/webapp/src/app/components/content/content.component.ts"],"names":["AddProjectComponent","AddTaskComponent","moveItemInArray","transferArrayItem","i0","i1","i2","i3","i4","i5","i6","ContentComponent_div_0_li_5_Template","rf","ctx","_r7","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","ContentComponent_div_0_li_5_Template_a_click_1_listener","restoredCtx","ɵɵrestoreView","project_r5","$implicit","ctx_r6","ɵɵnextContext","chooseProject","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","name","ContentComponent_div_0_div_8_li_11_Template","task_r14","ɵɵtextInterpolate1","ContentComponent_div_0_div_8_li_17_Template","task_r15","ContentComponent_div_0_div_8_li_23_Template","task_r16","_c0","a0","a1","ContentComponent_div_0_div_8_Template","_r18","ContentComponent_div_0_div_8_Template_button_click_3_listener","ctx_r17","createTask","ContentComponent_div_0_div_8_Template_div_cdkDropListDropped_6_listener","$event","ctx_r19","drop","ɵɵtemplate","ContentComponent_div_0_div_8_Template_div_cdkDropListDropped_12_listener","ctx_r20","ContentComponent_div_0_div_8_Template_div_cdkDropListDropped_18_listener","ctx_r21","_r8","ɵɵreference","_r10","_r12","ctx_r3","ɵɵproperty","todoTasks","ɵɵpureFunction2","inProgressTasks","doneTasks","ContentComponent_div_0_div_9_Template","ContentComponent_div_0_Template","_r23","ContentComponent_div_0_Template_button_click_6_listener","ctx_r22","createProject","ctx_r0","projects","currentProject","undefined","ContentComponent_div_1_Template","_r25","ContentComponent_div_1_Template_a_click_3_listener","ctx_r24","goToLogin","ContentComponent_div_1_Template_a_click_6_listener","ctx_r26","goToRegistration","ContentComponent","constructor","dialog","router","authService","httpService","tasks","isAuthenticated","user","subscribe","console","log","project","parseTasks","task","status","push","dialogRef","open","data","afterClosed","_a","userId","id","saveProject","event","previousContainer","container","previousIndex","currentIndex","navigate","ɵfac","ContentComponent_Factory","t","ɵɵdirectiveInject","MatDialog","Router","AuthServiceService","HttpService","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","ContentComponent_Template","directives","NgIf","NgForOf","CdkDropList","CdkDrag","styles"],"mappings":"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","sourcesContent":["import { AddProjectComponent } from \"./add-project/add-project.component\";\r\nimport { AddTaskComponent } from \"./add-task/add-task.component\";\r\nimport { moveItemInArray, transferArrayItem } from '@angular/cdk/drag-drop';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"@angular/material/dialog\";\r\nimport * as i2 from \"@angular/router\";\r\nimport * as i3 from \"../../services/auth-service.service\";\r\nimport * as i4 from \"../../services/HttpService\";\r\nimport * as i5 from \"@angular/common\";\r\nimport * as i6 from \"@angular/cdk/drag-drop\";\r\nfunction ContentComponent_div_0_li_5_Template(rf, ctx) { if (rf & 1) {\r\n    const _r7 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"li\")(1, \"a\", 6);\r\n    i0.ɵɵlistener(\"click\", function ContentComponent_div_0_li_5_Template_a_click_1_listener() { const restoredCtx = i0.ɵɵrestoreView(_r7); const project_r5 = restoredCtx.$implicit; const ctx_r6 = i0.ɵɵnextContext(2); return ctx_r6.chooseProject(project_r5); });\r\n    i0.ɵɵtext(2);\r\n    i0.ɵɵelementEnd()();\r\n} if (rf & 2) {\r\n    const project_r5 = ctx.$implicit;\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(project_r5.name);\r\n} }\r\nfunction ContentComponent_div_0_div_8_li_11_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"li\", 17);\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const task_r14 = ctx.$implicit;\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate1(\" \", task_r14.name, \" \");\r\n} }\r\nfunction ContentComponent_div_0_div_8_li_17_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"li\", 17);\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const task_r15 = ctx.$implicit;\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate1(\" \", task_r15.name, \" \");\r\n} }\r\nfunction ContentComponent_div_0_div_8_li_23_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"li\", 17);\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const task_r16 = ctx.$implicit;\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate1(\" \", task_r16.name, \" \");\r\n} }\r\nconst _c0 = function (a0, a1) { return [a0, a1]; };\r\nfunction ContentComponent_div_0_div_8_Template(rf, ctx) { if (rf & 1) {\r\n    const _r18 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"div\", 9)(1, \"p\", 4);\r\n    i0.ɵɵtext(2, \"\\u0417\\u0430\\u0434\\u0430\\u0447\\u0438\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(3, \"button\", 6);\r\n    i0.ɵɵlistener(\"click\", function ContentComponent_div_0_div_8_Template_button_click_3_listener() { i0.ɵɵrestoreView(_r18); const ctx_r17 = i0.ɵɵnextContext(2); return ctx_r17.createTask(); });\r\n    i0.ɵɵtext(4, \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0437\\u0430\\u0434\\u0430\\u0447\\u0443\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(5, \"div\", 10)(6, \"div\", 11, 12);\r\n    i0.ɵɵlistener(\"cdkDropListDropped\", function ContentComponent_div_0_div_8_Template_div_cdkDropListDropped_6_listener($event) { i0.ɵɵrestoreView(_r18); const ctx_r19 = i0.ɵɵnextContext(2); return ctx_r19.drop($event); });\r\n    i0.ɵɵelementStart(8, \"p\", 13);\r\n    i0.ɵɵtext(9, \"\\u0421\\u0434\\u0435\\u043B\\u0430\\u0442\\u044C\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(10, \"ul\");\r\n    i0.ɵɵtemplate(11, ContentComponent_div_0_div_8_li_11_Template, 2, 1, \"li\", 14);\r\n    i0.ɵɵelementEnd()();\r\n    i0.ɵɵelementStart(12, \"div\", 11, 15);\r\n    i0.ɵɵlistener(\"cdkDropListDropped\", function ContentComponent_div_0_div_8_Template_div_cdkDropListDropped_12_listener($event) { i0.ɵɵrestoreView(_r18); const ctx_r20 = i0.ɵɵnextContext(2); return ctx_r20.drop($event); });\r\n    i0.ɵɵelementStart(14, \"p\", 13);\r\n    i0.ɵɵtext(15, \"\\u0412 \\u0440\\u0430\\u0431\\u043E\\u0442\\u0435\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(16, \"ul\");\r\n    i0.ɵɵtemplate(17, ContentComponent_div_0_div_8_li_17_Template, 2, 1, \"li\", 14);\r\n    i0.ɵɵelementEnd()();\r\n    i0.ɵɵelementStart(18, \"div\", 11, 16);\r\n    i0.ɵɵlistener(\"cdkDropListDropped\", function ContentComponent_div_0_div_8_Template_div_cdkDropListDropped_18_listener($event) { i0.ɵɵrestoreView(_r18); const ctx_r21 = i0.ɵɵnextContext(2); return ctx_r21.drop($event); });\r\n    i0.ɵɵelementStart(20, \"p\", 13);\r\n    i0.ɵɵtext(21, \"\\u0412\\u044B\\u043F\\u043E\\u043B\\u043D\\u0435\\u043D\\u043D\\u044B\\u0435\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(22, \"ul\");\r\n    i0.ɵɵtemplate(23, ContentComponent_div_0_div_8_li_23_Template, 2, 1, \"li\", 14);\r\n    i0.ɵɵelementEnd()()()();\r\n} if (rf & 2) {\r\n    const _r8 = i0.ɵɵreference(7);\r\n    const _r10 = i0.ɵɵreference(13);\r\n    const _r12 = i0.ɵɵreference(19);\r\n    const ctx_r3 = i0.ɵɵnextContext(2);\r\n    i0.ɵɵadvance(6);\r\n    i0.ɵɵproperty(\"cdkDropListData\", ctx_r3.todoTasks)(\"cdkDropListConnectedTo\", i0.ɵɵpureFunction2(9, _c0, _r12, _r10));\r\n    i0.ɵɵadvance(5);\r\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.todoTasks);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"cdkDropListData\", ctx_r3.inProgressTasks)(\"cdkDropListConnectedTo\", i0.ɵɵpureFunction2(12, _c0, _r8, _r12));\r\n    i0.ɵɵadvance(5);\r\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.inProgressTasks);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"cdkDropListData\", ctx_r3.doneTasks)(\"cdkDropListConnectedTo\", i0.ɵɵpureFunction2(15, _c0, _r8, _r10));\r\n    i0.ɵɵadvance(5);\r\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.doneTasks);\r\n} }\r\nfunction ContentComponent_div_0_div_9_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\", 18);\r\n    i0.ɵɵtext(1, \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\");\r\n    i0.ɵɵelementEnd();\r\n} }\r\nfunction ContentComponent_div_0_Template(rf, ctx) { if (rf & 1) {\r\n    const _r23 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"div\", 3)(2, \"p\", 4);\r\n    i0.ɵɵtext(3, \"\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B:\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(4, \"ul\");\r\n    i0.ɵɵtemplate(5, ContentComponent_div_0_li_5_Template, 3, 1, \"li\", 5);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(6, \"button\", 6);\r\n    i0.ɵɵlistener(\"click\", function ContentComponent_div_0_Template_button_click_6_listener() { i0.ɵɵrestoreView(_r23); const ctx_r22 = i0.ɵɵnextContext(); return ctx_r22.createProject(); });\r\n    i0.ɵɵtext(7, \"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C\");\r\n    i0.ɵɵelementEnd()();\r\n    i0.ɵɵtemplate(8, ContentComponent_div_0_div_8_Template, 24, 18, \"div\", 7);\r\n    i0.ɵɵtemplate(9, ContentComponent_div_0_div_9_Template, 2, 0, \"div\", 8);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const ctx_r0 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(5);\r\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.projects);\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.currentProject !== undefined);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.currentProject !== undefined);\r\n} }\r\nfunction ContentComponent_div_1_Template(rf, ctx) { if (rf & 1) {\r\n    const _r25 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"div\")(1, \"p\");\r\n    i0.ɵɵtext(2, \"\\u041F\\u043E\\u0436\\u0430\\u043B\\u0443\\u0439\\u0441\\u0442\\u0430, \");\r\n    i0.ɵɵelementStart(3, \"a\", 19);\r\n    i0.ɵɵlistener(\"click\", function ContentComponent_div_1_Template_a_click_3_listener() { i0.ɵɵrestoreView(_r25); const ctx_r24 = i0.ɵɵnextContext(); return ctx_r24.goToLogin(); });\r\n    i0.ɵɵtext(4, \"\\u0432\\u043E\\u0439\\u0434\\u0438\\u0442\\u0435 \");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵtext(5, \" \\u0438\\u043B\\u0438 \");\r\n    i0.ɵɵelementStart(6, \"a\", 19);\r\n    i0.ɵɵlistener(\"click\", function ContentComponent_div_1_Template_a_click_6_listener() { i0.ɵɵrestoreView(_r25); const ctx_r26 = i0.ɵɵnextContext(); return ctx_r26.goToRegistration(); });\r\n    i0.ɵɵtext(7, \"\\u0437\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u0443\\u0439\\u0442\\u0435\\u0441\\u044C\");\r\n    i0.ɵɵelementEnd()()();\r\n} }\r\nexport class ContentComponent {\r\n    constructor(dialog, router, authService, httpService) {\r\n        this.dialog = dialog;\r\n        this.router = router;\r\n        this.authService = authService;\r\n        this.httpService = httpService;\r\n        this.projects = [];\r\n        this.tasks = [];\r\n        this.todoTasks = [];\r\n        this.inProgressTasks = [];\r\n        this.doneTasks = [];\r\n        this.isAuthenticated = false;\r\n        this.authService.user.subscribe(user => {\r\n            this.user = user;\r\n            console.log(this.user);\r\n            if (this.user !== undefined) {\r\n                this.isAuthenticated = true;\r\n                this.projects = this.user.projects;\r\n            }\r\n        });\r\n    }\r\n    chooseProject(project) {\r\n        this.currentProject = project;\r\n        this.parseTasks();\r\n    }\r\n    parseTasks() {\r\n        this.todoTasks = [];\r\n        this.inProgressTasks = [];\r\n        this.doneTasks = [];\r\n        if (this.currentProject === undefined) {\r\n            return;\r\n        }\r\n        for (let task of this.currentProject.tasks) {\r\n            if (task.status === \"todo\") {\r\n                this.todoTasks.push(task);\r\n            }\r\n            else if (task.status === \"inProgress\") {\r\n                this.inProgressTasks.push(task);\r\n            }\r\n            else {\r\n                this.doneTasks.push(task);\r\n            }\r\n        }\r\n    }\r\n    createProject() {\r\n        const dialogRef = this.dialog.open(AddProjectComponent, {\r\n            data: null,\r\n        });\r\n        dialogRef.afterClosed().subscribe(async (project) => {\r\n            var _a;\r\n            if (project) {\r\n                project.userId = (_a = this.user) === null || _a === void 0 ? void 0 : _a.id;\r\n                this.projects.push(project);\r\n                console.log(project);\r\n                this.httpService.saveProject(project).subscribe();\r\n            }\r\n        });\r\n    }\r\n    createTask() {\r\n        const dialogRef = this.dialog.open(AddTaskComponent, {\r\n            data: null,\r\n        });\r\n        dialogRef.afterClosed().subscribe(async (task) => {\r\n            var _a;\r\n            if (task) {\r\n                (_a = this.currentProject) === null || _a === void 0 ? void 0 : _a.tasks.push(task);\r\n                this.parseTasks();\r\n            }\r\n        });\r\n    }\r\n    drop(event) {\r\n        if (event.previousContainer === event.container) {\r\n            moveItemInArray(event.container.data, event.previousIndex, event.currentIndex);\r\n        }\r\n        else {\r\n            transferArrayItem(event.previousContainer.data, event.container.data, event.previousIndex, event.currentIndex);\r\n        }\r\n    }\r\n    goToRegistration() {\r\n        this.router.navigate(['/registration']);\r\n    }\r\n    goToLogin() {\r\n        this.router.navigate(['/login']);\r\n    }\r\n}\r\nContentComponent.ɵfac = function ContentComponent_Factory(t) { return new (t || ContentComponent)(i0.ɵɵdirectiveInject(i1.MatDialog), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.AuthServiceService), i0.ɵɵdirectiveInject(i4.HttpService)); };\r\nContentComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: ContentComponent, selectors: [[\"app-content\"]], decls: 2, vars: 2, consts: [[\"class\", \"grid grid-cols-4 mt-4 gap-3.5 mx-10\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"grid\", \"grid-cols-4\", \"mt-4\", \"gap-3.5\", \"mx-10\"], [1, \"col-span-1\", \"border-2\", \"border-blue-400\", \"border-l-gray-300\", \"border-r-gray-300\"], [1, \"text-2xl\"], [4, \"ngFor\", \"ngForOf\"], [3, \"click\"], [\"class\", \"col-span-2\", 4, \"ngIf\"], [\"class\", \"col-span-1\", 4, \"ngIf\"], [1, \"col-span-2\"], [1, \"grid\", \"grid-cols-3\", \"gap-2\"], [\"cdkDropList\", \"\", 1, \"col-span-1\", 3, \"cdkDropListData\", \"cdkDropListConnectedTo\", \"cdkDropListDropped\"], [\"todoList\", \"cdkDropList\"], [1, \"text-xl\"], [\"cdkDrag\", \"\", 4, \"ngFor\", \"ngForOf\"], [\"inProgressList\", \"cdkDropList\"], [\"doneList\", \"cdkDropList\"], [\"cdkDrag\", \"\"], [1, \"col-span-1\"], [1, \"underline\", \"decoration-solid\", 3, \"click\"]], template: function ContentComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵtemplate(0, ContentComponent_div_0_Template, 10, 3, \"div\", 0);\r\n        i0.ɵɵtemplate(1, ContentComponent_div_1_Template, 8, 0, \"div\", 1);\r\n    } if (rf & 2) {\r\n        i0.ɵɵproperty(\"ngIf\", ctx.isAuthenticated);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"ngIf\", !ctx.isAuthenticated);\r\n    } }, directives: [i5.NgIf, i5.NgForOf, i6.CdkDropList, i6.CdkDrag], styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjb250ZW50LmNvbXBvbmVudC5jc3MifQ== */\"] });\r\n"]},"metadata":{},"sourceType":"module"}